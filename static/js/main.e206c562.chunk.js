(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{184:function(e,t,c){"use strict";c.r(t);var s=c(41),a=c(1),n=c(11),r=c.n(n),i=(c(77),c(9)),l=c.n(i),o=c(14),d=c(6),j=(c(79),c(7)),u=c(0),b=function(){var e=Object(a.useState)(null),t=Object(d.a)(e,2),c=t[0],s=t[1],n=Object(j.g)();return Object(u.jsx)("form",{onSubmit:function(e){e.preventDefault(),n(c?"/search/".concat(c):"/")},children:Object(u.jsxs)("div",{className:"input-group",children:[Object(u.jsx)("input",{type:"text",id:"search_field",className:"form-control",placeholder:"Enter Product Name ...",onChange:function(e){return s(e.target.value)}}),Object(u.jsx)("div",{className:"input-group-append",children:Object(u.jsx)("button",{id:"search_btn",className:"btn",children:Object(u.jsx)("i",{className:"fa fa-search","aria-hidden":"true"})})})]})})},m=c(5),h=c(4),O=c(15),p=c(13),x=c.n(p),f=c(18),g=localStorage.getItem("token")?JSON.parse(localStorage.getItem("token")):"",v=Object(f.b)({name:"auth",initialState:{user:null,loading:null,er:null,isAuth:!1,token:g},reducers:{userRequest:function(e,t){e.loading=!0},userLogin:function(e,t){e.loading=!1,e.user=t.payload,e.isAuth=!0},tokes:function(e,t){e.token=t.payload.token},userFail:function(e,t){e.er=t.payload,e.loading=!1,e.user=null,e.isAuth=!1},userRegister:function(e,t){e.user=t.payload,e.loading=!1,e.isAuth=!0},userLogout:function(e,t){e.loading=!1,e.user=null,e.token=localStorage.removeItem("token"),e.isAuth=!1},loadUser:function(e,t){e.loading=!1,e.user=t.payload,e.isAuth=!0,e.er=null},loadUserFail:function(e,t){e.loading=!1,e.user=null,e.isAuth=!1,e.er=t.payload}}}),N=v.actions,y=v,w=function(){var e=Object(h.b)(),t=Object(h.c)((function(e){return e.auth})).user,c=Object(h.c)((function(e){return e.cart})).items,s=Object(O.d)();return Object(u.jsx)("div",{children:Object(u.jsxs)("nav",{className:"navbar row",children:[Object(u.jsx)("div",{className:"col-12 col-md-3",children:Object(u.jsx)("div",{className:"navbar-brand",children:Object(u.jsx)(m.b,{to:"/",children:Object(u.jsx)("img",{src:"https://onlinelearning.msmc.edu/wp-content/uploads/2020/03/amazon-com-online-shopping-retail-sales-amazon-logo-thumbnail.jpg",width:"45px"})})})}),Object(u.jsx)("div",{className:"col-12 col-md-6 mt-2 mt-md-0",children:Object(u.jsx)(b,{})}),Object(u.jsxs)("div",{className:"col-12 col-md-3 mt-4 mt-md-0 text-center",children:[Object(u.jsxs)(m.b,{to:"/user/cart",children:[Object(u.jsx)("span",{id:"cart",className:"mr-1",children:"Cart"}),Object(u.jsx)("span",{className:"ml-1",id:"cart_count",children:c?c.length:0})]}),t?Object(u.jsxs)("div",{className:"dropdown d-inline",children:[Object(u.jsx)(m.b,{to:"#",className:"btn dropdown-toggle text-white",id:"dropDownMenuButton",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:Object(u.jsxs)("firgure",{className:"avatar avatar-nav",children:[Object(u.jsx)("img",{src:t.user.avatar&&t.user.avatar.url,alt:"avatar",className:"rounded-circle"}),Object(u.jsx)("span",{children:t.user&&t.user.name})]})}),Object(u.jsxs)("div",{className:"dropdown-menu text-danger","aria-labelledby":"dropDownMenuButton",children:[t.user&&"admin"!==t.user.role?Object(u.jsx)(m.b,{to:"/user/orders",className:"dropdown-item text-danger",children:"Orders"}):Object(u.jsx)(m.b,{to:"/admin/dashboard",className:"dropdown-item text-danger",children:"Dashboard"}),Object(u.jsx)(m.b,{to:"/",className:"dropdown-item text-danger",onClick:function(){s.success("You have successfully Logged Out"),e(function(){var e=Object(o.a)(l.a.mark((function e(t){var c,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.get("http://127.0.0.1:7000/v1/api/amazona/users/logout");case 3:c=e.sent,s=c.data,console.log(s),t(N.userLogout()),localStorage.removeItem("token"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message),t(N.userFail(e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message));case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}())},children:"Logout"}),Object(u.jsx)(m.b,{to:"user/my-profile",className:"dropdown-item text-danger",children:"Profile"})]})]}):Object(u.jsx)(m.b,{to:"/user/login",className:"btn ml-2",id:"login_btn",children:"Login"})]})]})})},S=function(){return Object(u.jsx)(a.Fragment,{children:Object(u.jsx)("footer",{className:"py-1 d-flex justify-content-center",children:Object(u.jsx)("p",{className:" text-center text-dark mt-1",children:"Shopping Cart - 2019-2020, All Rights Reserved"})})})},k=Object(f.b)({name:"cart",initialState:{items:[]},reducers:{addTocart:function(e,t){var c=t.payload,s=e.items.find((function(e){return e.id===c.id}));s?(s.stock--,s.quantity++):e.items.push({_id:c._id,name:c.name,price:c.price,description:c.description,ratings:c.ratings,category:c.category,seller:c.seller,stock:c.stock,image:c.image,numOfReviews:c.numOfReviews,createdAt:c.createdAt,id:c.id,quantity:1})},removeItem:function(e,t){var c=t.payload,s=e.items.find((function(e){return e.id===c}));1===s.quantity?e.items=e.items.filter((function(e){return e.id!==c})):s.quantity--}}}),C=k.actions,_=k.reducer,P=localStorage.getItem("ship")?JSON.parse(localStorage.getItem("ship")):{},F=Object(f.b)({name:"Ship",initialState:{ShippingInfo:P,review:{},err:null},reducers:{AddShipping:function(e,t){e.ShippingInfo=t.payload},newReview:function(e,t){e.review=t.payload},reviewFail:function(e,t){e.err=t.payload,e.review={}}}}),A=F.actions,R=F.reducer,I=Object(f.b)({name:"product",initialState:{products:null,loading:!0,er:null,resPerPage:null,newProd:{},proErr:null,proLoad:!0,image:[]},reducers:{allProductsRequest:function(e,t){e.products=[],e.loading=!0},ProductsSuccess:function(e,t){e.products=t.payload,e.loading=!1,e.resPerPage=t.payload.resPerPage},ProductsFail:function(e,t){e.er=t.payload,e.loading=!1,e.products=[]},newProduct:function(e,t){e.newProd=t.payload,e.proErr=null,e.proLoad=!1},newPhoto:function(e,t){e.image=t.payload},newProdFail:function(e,t){e.newProd={},e.proErr=t.payload,e.proLoad=!1}}}),z=Object(f.b)({name:"details",initialState:{product:null,loading:!0,er:null},reducers:{allProductsRequest:function(e,t){e.product=e.loading=!0},ProductDetailsSuccess:function(e,t){e.product=t.payload,e.loading=!1},ProductsDetailsFail:function(e,t){e.er=t.payload,e.loading=!1,e.product=null}}}),E=I.actions,L=z.actions,T=Object(f.a)({reducer:{prod:I.reducer,det:z.reducer,auth:y.reducer,cart:_,ship:R}}),D=function(e){var t=e.product,c=e.col;return Object(u.jsx)("div",{className:"col-sm-12 col-md-6 col-lg-".concat(c," my-3"),children:Object(u.jsxs)("div",{className:"card p-3 rounded",children:[Object(u.jsx)("img",{className:"card-img-top mx-auto",src:t.image.map((function(e){return e.url}))}),Object(u.jsxs)("div",{className:"card-body d-flex flex-column",children:[Object(u.jsx)("h5",{className:"card-title",children:Object(u.jsx)(m.b,{to:"/product/".concat(t.id),children:t.name})}),Object(u.jsxs)("div",{className:"ratings mt-auto",children:[Object(u.jsx)("div",{className:"rating-outer",children:Object(u.jsx)("div",{className:"rating-inner"})}),Object(u.jsxs)("span",{id:"no_of_reviews",children:[t.numOfReviews," Reviews"]})]}),Object(u.jsxs)("p",{className:"card-text",children:["R",t.price]}),Object(u.jsx)(m.b,{to:"/product/".concat(t.id),id:"view_btn",className:"btn btn-block",children:"View Details"})]})]},t.id)})},q=function(){return Object(u.jsx)("div",{className:"loader"})},M=c(66),B=c.n(M),U=c(40),J=(c(176),function(e){var t=Object(h.b)(),c=Object(a.useState)(1),s=Object(d.a)(c,2),n=s[0],r=s[1],i=Object(a.useState)([1,9e3]),b=Object(d.a)(i,2),m=b[0],O=b[1],p=Object(a.useState)(""),f=Object(d.a)(p,2),g=f[0],v=f[1],N=Object(j.h)().keyword,y=(0,U.a.createSliderWithTooltip)(U.a.Range),w=Object(h.c)((function(e){return e.prod.products})),S=Object(h.c)((function(e){return e.prod.loading})),k=Object(h.c)((function(e){return e.prod.er})),C=Object(h.c)((function(e){return e.prod.products&&w.resPerPage})),_=Object(h.c)((function(e){return e.prod.products&&w.productsCount}));Object(a.useEffect)((function(){t(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,c=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0;return function(){var a=Object(o.a)(l.a.mark((function a(n){var r,i,o;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,console.log(e),r="http://127.0.0.1:7000/v1/api/amazona/products?keyword=".concat(e,"&page=").concat(t,"&price=[lte]=").concat(c[1],"&price[gte]=").concat(c[0]),s&&(r="http://127.0.0.1:/v1/api/amazona/products?keyword=".concat(e,"&page=").concat(t,"&price=[lte]=").concat(c[1],"&price[gte]=").concat(c[0],"&category=").concat(s)),a.next=6,x.a.get(r);case 6:i=a.sent,o=i.data,n(E.ProductsSuccess(o)),a.next=15;break;case 11:a.prev=11,a.t0=a.catch(0),console.log(a.t0),n(E.ProductsFail(a.t0||a.t0.response||a.t0.response.data));case 15:case"end":return a.stop()}}),a,null,[[0,11]])})));return function(e){return a.apply(this,arguments)}}()}(N,n,m,g))}),[t,n,N,m,g]);return Object(u.jsxs)("div",{className:"container container-fluid",children:[Object(u.jsx)("h1",{id:"products_heading",children:"Latest Products"}),S?Object(u.jsx)(q,{}):k?Object(u.jsx)("div",{class:"alert alert-danger",role:"alert",children:k.message}):Object(u.jsx)("section",{id:"products",className:"container mt-5",children:Object(u.jsx)("div",{className:"row",children:N?Object(u.jsxs)(a.Fragment,{children:[Object(u.jsx)("div",{className:"col-6 col-md-3 mt-5 mb-5",children:Object(u.jsxs)("div",{className:"px-5",children:[Object(u.jsx)(y,{marks:{1:"R1",9e3:"R9000"},min:1,max:9e3,defaultValue:[1,9e3],tipFormatter:function(e){return"R".concat(e)},tipProps:{placement:"top",visible:!0},value:m,onChange:function(e){return O(e)}}),Object(u.jsx)("hr",{className:"my-5"}),Object(u.jsxs)("div",{className:"mt-5",children:[Object(u.jsx)("h4",{className:"mb-3",children:"Categories"}),Object(u.jsx)("ul",{className:"pl-0",children:["Electronics","Furnisher","Beauty & Health","Audio & Media","Books","Fashion","Food"].map((function(e){return Object(u.jsx)("li",{style:{cursor:"pointer",listStyleType:"none"},onClick:function(){return v(e)},children:e},e)}))})]})]})}),Object(u.jsx)("div",{className:"col-6 col-md-9",children:Object(u.jsx)("div",{className:"row",children:w&&w.map((function(t){return Object(u.jsx)(D,{product:t,hello:e,id:t.id,col:4})}))})})]}):w&&w.products.map((function(t){return Object(u.jsx)(D,{product:t,hello:e,id:t.id,col:3},t.id)}))})}),Object(u.jsx)("div",{className:"d-flex justify-content-center mt-5",children:Object(u.jsx)(B.a,{activePage:n,itemsCountPerPage:C,totalItemsCount:_,onChange:function(e){r(e)},nextPageText:"Next",prevPageText:"Previous",firstPageText:"First",lastPageText:"Last",itemClass:"page-item",linkClass:"page-link"})})]})}),Y=function(e){var t=e.reviews;return Object(u.jsx)(a.Fragment,{children:Object(u.jsx)("div",{className:"container container-fluid",children:Object(u.jsxs)("div",{className:"reviews w-75",children:[Object(u.jsx)("h3",{children:"Other's Reviews:"}),Object(u.jsx)("hr",{}),t&&t.map((function(e){return Object(u.jsxs)("div",{className:"review-card my-3",children:[Object(u.jsx)("div",{className:"rating-outer",children:Object(u.jsx)("div",{className:"rating-inner",style:{width:"".concat(e.rating/5*100,"%")}})}),Object(u.jsx)("p",{className:"review_user",children:e.name}),Object(u.jsx)("p",{className:"review_comment",children:e.comment}),Object(u.jsx)("hr",{})]},e._id)}))]})})})},$=function(e){var t=Object(h.b)(),c=Object(j.h)().id,s=Object(h.c)((function(e){return e.det.product})),n=Object(h.c)((function(e){return e.auth.user})),r=Object(h.c)((function(e){return e.det.loading})),i=Object(h.c)((function(e){return e.det.er})),b=Object(a.useState)(1),m=Object(d.a)(b,2),O=(m[0],m[1],Object(a.useState)(1)),p=Object(d.a)(O,2),f=p[0],g=(p[1],Object(a.useState)("")),v=Object(d.a)(g,2),N=v[0],y=v[1];Object(a.useEffect)((function(){t(function(e){return function(){var t=Object(o.a)(l.a.mark((function t(c){var s,a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.a.get("http://127.0.0.1:7000/v1/api/amazona/single-product/".concat(e));case 3:s=t.sent,a=s.data,c(L.ProductDetailsSuccess(a.product)),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0),c(L.ProductsDetailsFail(t.t0||t.t0.response||t.t0.response.data));case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}(c))}),[c]);var w=function(e){t(function(e){return function(t,c){t(C.addTocart(e))}}(e))};return Object(u.jsx)(a.Fragment,{children:r?Object(u.jsx)(q,{}):i?i.message:Object(u.jsxs)(a.Fragment,{children:[Object(u.jsx)("h3",{className:"display-5",children:"Product Details"}),Object(u.jsx)("div",{className:"container container-fluid",children:Object(u.jsxs)("div",{className:"row f-flex justify-content-around",children:[Object(u.jsx)("div",{className:"col-12 col-lg-5 img-fluid",id:"product_image",children:Object(u.jsx)("img",{src:s.image.map((function(e){return e.url})),alt:"sdf",height:"500",width:"500"})}),Object(u.jsxs)("div",{className:"col-12 col-lg-5 mt-5",children:[Object(u.jsx)("h3",{children:s.name}),Object(u.jsxs)("p",{id:"product_id",children:["Product # ",s.id]}),Object(u.jsx)("hr",{}),Object(u.jsx)("div",{className:"rating-outer",children:Object(u.jsx)("div",{className:"rating-inner"})}),Object(u.jsxs)("span",{id:"no_of_reviews",children:["(",s.numOfReviews," Reviews)"]}),Object(u.jsx)("hr",{}),Object(u.jsxs)("p",{id:"product_price",children:["R ",s.price]}),0===s.stock?Object(u.jsx)("button",{type:"button",id:"cart_btn",className:"btn btn-danger d-inline ml-4",disabled:!0,children:"Out Of Stock"}):Object(u.jsx)("button",{type:"button",id:"cart_btn",className:"btn btn-primary d-inline ml-4",onClick:function(){return w(s)},children:"Add to Cart"}),Object(u.jsx)("hr",{}),Object(u.jsxs)("p",{children:["Status: ",Object(u.jsx)("span",{id:"stock_status",children:"In Stock"})]}),Object(u.jsx)("hr",{}),Object(u.jsx)("h4",{className:"mt-2",children:"Description:"}),Object(u.jsx)("p",{children:s.description}),Object(u.jsx)("hr",{}),Object(u.jsxs)("p",{id:"product_seller mb-3",children:["Sold by: ",Object(u.jsx)("strong",{children:"Amazon"})]}),n&&n.user?Object(u.jsx)("button",{id:"review_btn",type:"button",className:"btn btn-primary mt-4","data-toggle":"modal","data-target":"#ratingModal",children:"Submit Your Review"}):Object(u.jsx)("button",{type:"alert",className:"btn btn-danger mt-4",children:"Login to Submit Reviews"}),Object(u.jsx)("div",{className:"row mt-2 mb-5",children:Object(u.jsx)("div",{className:"rating w-50",children:Object(u.jsx)("div",{className:"modal fade",id:"ratingModal",tabIndex:"-1",role:"dialog","aria-labelledby":"ratingModalLabel","aria-hidden":"true",children:Object(u.jsx)("div",{className:"modal-dialog",role:"document",children:Object(u.jsxs)("div",{className:"modal-content",children:[Object(u.jsxs)("div",{className:"modal-header",children:[Object(u.jsx)("h5",{className:"modal-title",id:"ratingModalLabel",children:"Submit Review"}),Object(u.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(u.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(u.jsxs)("div",{className:"modal-body",children:[Object(u.jsxs)("ul",{className:"stars",children:[Object(u.jsx)("li",{className:"star",children:Object(u.jsx)("i",{className:"fa fa-star"})}),Object(u.jsx)("li",{className:"star",children:Object(u.jsx)("i",{className:"fa fa-star"})}),Object(u.jsx)("li",{className:"star",children:Object(u.jsx)("i",{className:"fa fa-star"})}),Object(u.jsx)("li",{className:"star",children:Object(u.jsx)("i",{className:"fa fa-star"})}),Object(u.jsx)("li",{className:"star",children:Object(u.jsx)("i",{className:"fa fa-star"})})]}),Object(u.jsx)("textarea",{name:"review",id:"review",className:"form-control mt-3",value:N,onChange:function(e){return y(e.target.value)}}),Object(u.jsx)("button",{className:"btn my-3 float-right review-btn px-4 text-white","data-dismiss":"modal","aria-label":"Close",onClick:function(){var e=new FormData;e.set("comment",N),e.set("rating",f),e.set("productId",c),console.log(c),t(function(e,t,c){return function(){var s=Object(o.a)(l.a.mark((function s(a,n){var r,i,o,d,j;return l.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return r=e,i=JSON.parse(localStorage.getItem("token")),o={headers:{"Content-Type":"application/json",Authorization:i?"Bearer ".concat(i):""}},s.prev=3,s.next=6,x.a.put("http://127.0.0.1:7000/v1/api/amazona/products/reviews",{productId:r,rating:t,comment:c},o);case 6:d=s.sent,j=d.data,a(A.newReview(j)),s.next=15;break;case 11:s.prev=11,s.t0=s.catch(3),console.log(s.t0.response&&s.t0.response.data.message?s.t0.response.data.message:s.t0.message),a(A.reviewFail(s.t0.response&&s.t0.response.data.message?s.t0.response.data.message:s.t0.message));case 15:case"end":return s.stop()}}),s,null,[[3,11]])})));return function(e,t){return s.apply(this,arguments)}}()}(c,f,N))},children:"Submit"})]})]})})})})})]})]})}),s.reviews&&s.reviews.length>0&&Object(u.jsx)(Y,{reviews:s.reviews})]})})},V=function(){var e=Object(O.d)(),t=Object(h.b)(),c=Object(a.useState)(""),s=Object(d.a)(c,2),n=s[0],r=s[1],i=Object(a.useState)(""),b=Object(d.a)(i,2),p=b[0],f=b[1],g=Object(h.c)((function(e){return e.auth})),v=(g.isAuth,g.loading),y=g.er,w=g.user,S=Object(j.g)(),k=Object(j.f)().search,C=k?k.split("=")[1]:"/";Object(a.useEffect)((function(){w&&w.user&&S(C)}),[w]);return Object(u.jsxs)(a.Fragment,{children:[v?Object(u.jsx)(q,{}):Object(u.jsx)(a.Fragment,{children:Object(u.jsx)("div",{className:"container container-fluid",children:Object(u.jsx)("div",{className:"row wrapper",children:Object(u.jsxs)("div",{className:"col-10 col-lg-5 text-center",children:[Object(u.jsx)("div",{className:"alert-danger",children:y}),Object(u.jsxs)("form",{className:"shadow-lg",onSubmit:function(c){c.preventDefault(),t(function(e,t){return function(){var c=Object(o.a)(l.a.mark((function c(s){var a,n,r;return l.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return a={headers:{"Content-Type":"application/json"}},c.prev=1,c.next=4,x.a.post("http://127.0.0.1:7000/v1/api/amazona/users/login",{email:e,password:t},a);case 4:n=c.sent,r=n.data,console.log(r),localStorage.setItem("token",JSON.stringify(r.token)),s(N.userLogin(r)),c.next=15;break;case 11:c.prev=11,c.t0=c.catch(1),console.log(c.t0.response&&c.t0.response.data.message?c.t0.response.data.message:c.t0.message),s(N.userFail(c.t0.response&&c.t0.response.data.message?c.t0.response.data.message:c.t0.message));case 15:case"end":return c.stop()}}),c,null,[[1,11]])})));return function(e){return c.apply(this,arguments)}}()}(n,p)),e.success("Logged In")},children:[Object(u.jsx)("h1",{className:"mb-3",children:"Login"}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{children:"Email"}),Object(u.jsx)("input",{type:"email",id:"email_field",className:"form-control",value:n,onChange:function(e){return r(e.target.value)}})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{children:"Password"}),Object(u.jsx)("input",{type:"password",id:"password_field",className:"form-control",value:p,onChange:function(e){return f(e.target.value)}})]}),Object(u.jsx)(m.b,{to:"/users/forgot-pass",className:"float-right mb-4",children:"Forgot Password?"}),Object(u.jsx)("button",{id:"login_button",type:"submit",className:"btn btn-block py-3",children:"LOGIN"}),Object(u.jsx)(m.b,{to:"/users/register",className:"float-right mb-mt-3",children:"New User?"})]})]})})})}),Object(u.jsx)("div",{})]})},W=c(34),G=function(){var e=Object(h.b)(),t=Object(j.g)(),c=Object(h.c)((function(e){return e.auth})).isAuth,s=Object(a.useState)(""),n=Object(d.a)(s,2),r=n[0],i=n[1],b=Object(a.useState)(""),m=Object(d.a)(b,2),O=m[0],p=m[1],f=Object(a.useState)(""),g=Object(d.a)(f,2),v=g[0],y=g[1],w=Object(a.useState)(""),S=Object(d.a)(w,2),k=S[0],C=S[1];Object(a.useEffect)((function(){c&&t("/")}));var _=function(){var e=Object(o.a)(l.a.mark((function e(t){var c,s,a,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.target.files[0],(s=new FormData).append("avatar",c),console.log(Object(W.a)(s)),a={headers:{"Content-type":"application/json"}},e.prev=5,e.next=8,x.a.post("http://127.0.0.1:7000/v1/api/amazona/users/upload",s,a);case 8:n=e.sent,r=n.data,console.log(r),C(r),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(5),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[5,14]])})));return function(t){return e.apply(this,arguments)}}(),P=function(t){t.preventDefault(),e(function(e){return function(){var t=Object(o.a)(l.a.mark((function t(c){var s,a,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e),s={headers:{"Content-Type":"application/json"}},t.prev=2,t.next=5,x.a.post("http://127.0.0.1:7000/v1/api/amazona/users/user-reg",e,s);case 5:a=t.sent,n=a.data,console.log(n),localStorage.setItem("token",JSON.stringify(n.token)),c(N.userLogin(n)),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(2),console.log(t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message),c(N.userFail(t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message));case 16:case"end":return t.stop()}}),t,null,[[2,12]])})));return function(e){return t.apply(this,arguments)}}()}({name:v,email:O,password:r,avatar:k}))};return Object(u.jsx)("div",{className:"container container-fluid",children:Object(u.jsx)("div",{className:"row wrapper",children:Object(u.jsx)("div",{className:"col-10 col-lg-5",children:Object(u.jsxs)("form",{className:"shadow-lg",encType:"multipart/form-data",onSubmit:P,children:[Object(u.jsx)("h1",{className:"mb-3",children:"Register"}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{children:"Name"}),Object(u.jsx)("input",{type:"name",id:"name_field",className:"form-control",value:v,onChange:function(e){return y(e.target.value)}})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{children:"Email"}),Object(u.jsx)("input",{type:"email",id:"email_field",className:"form-control",value:O,onChange:function(e){return p(e.target.value)}})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{children:"Password"}),Object(u.jsx)("input",{type:"password",id:"password_field",className:"form-control",value:r,onChange:function(e){return i(e.target.value)}})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{children:"Avatar"}),Object(u.jsxs)("div",{className:"d-flex align-items-center",children:[Object(u.jsx)("div",{children:Object(u.jsx)("figure",{className:"avatar mr-3 item-rtl",children:Object(u.jsx)("img",{src:"",className:"rounded-circle",alt:"image"})})}),Object(u.jsxs)("div",{className:"custom-file",children:[Object(u.jsx)("input",{type:"file",name:"avatar",className:"custom-file-input",id:"customFile",onChange:_}),Object(u.jsx)("label",{className:"custom-file-label",children:"Choose Avatar"})]})]})]}),Object(u.jsx)("button",{id:"register_button",type:"submit",className:"btn btn-block py-3",onSubmit:P,children:"REGISTER"})]})})})})},H=function(){var e=Object(h.c)((function(e){return e.auth.user})),t=Object(h.c)((function(e){return e.auth})).er,c=Object(j.g)(),s=Object(O.d)();return console.log(!0===e),Object(a.useEffect)((function(){e||c("/user/login")})),Object(u.jsx)(a.Fragment,{children:t?s.error(t):e?Object(u.jsxs)("div",{class:"container container-fluid",children:[Object(u.jsx)("h2",{class:"mt-5 ml-5",children:"My Profile"}),Object(u.jsxs)("div",{class:"row justify-content-around mt-5 user-info",children:[Object(u.jsxs)("div",{class:"col-12 col-md-3",children:[Object(u.jsx)("figure",{class:"avatar avatar-profile",children:Object(u.jsx)("img",{class:"rounded-circle img-fluid",src:e.user.avatar.url,alt:""})}),Object(u.jsx)("a",{href:"#",id:"edit_profile",class:"btn btn-primary btn-block my-5",children:"Edit Profile"})]}),Object(u.jsxs)("div",{class:"col-12 col-md-5",children:[Object(u.jsx)("h4",{children:"Full Name"}),Object(u.jsx)("p",{children:e.user.name}),Object(u.jsx)("h4",{children:"Email Address"}),Object(u.jsx)("p",{children:e.user.email}),"admin"===e.user.role&&Object(u.jsx)(m.b,{to:"my/orders",class:"btn btn-danger btn-block mt-5",children:"My Orders"}),Object(u.jsx)(m.b,{to:"/profile/password",class:"btn btn-primary btn-block mt-3",children:"Change Password"})]})]})]}):c("/user/login")})},K=function(e){var t=e.children,c=Object(j.g)(),s=Object(h.c)((function(e){return e.auth}));return s?t:!1===s?Object(u.jsx)(j.a,{to:"/login"}):c("/login")},Q=function(){var e=Object(h.c)((function(e){return e.cart.items})),t=Object(h.b)(),c=Object(j.g)();return Object(u.jsx)(a.Fragment,{children:0===e.length?Object(u.jsx)("h2",{class:"mt-5",children:"Your Cart  is Empty!"}):Object(u.jsx)(a.Fragment,{children:Object(u.jsxs)("div",{class:"container container-fluid",children:[Object(u.jsxs)("h2",{class:"mt-5",children:["Your Cart: ",Object(u.jsx)("b",{children:"2 items"})]}),Object(u.jsxs)("div",{class:"row d-flex justify-content-between",children:[Object(u.jsxs)("div",{class:"col-12 col-lg-8",children:[Object(u.jsx)("hr",{}),e.map((function(e){return Object(u.jsx)(a.Fragment,{children:Object(u.jsx)("div",{class:"cart-item",children:Object(u.jsxs)("div",{class:"row",children:[Object(u.jsx)("div",{class:"col-4 col-lg-3",children:Object(u.jsx)("img",{src:e.image.map((function(e){return e.url})),alt:"Laptop",height:"90",width:"115",className:"rounded"})}),Object(u.jsx)("div",{class:"col-5 col-lg-3",children:Object(u.jsx)("a",{href:"",children:e.name})}),Object(u.jsx)("div",{class:"col-4 col-lg-2 mt-4 mt-lg-0",children:Object(u.jsx)("p",{id:"card_item_price",children:e.price})}),Object(u.jsx)("div",{class:"col-4 col-lg-3 mt-4 mt-lg-0",children:Object(u.jsxs)("div",{class:"stockCounter d-inline",children:[Object(u.jsx)("span",{class:"btn btn-danger minus",onClick:function(){return c=e.id,void t(C.removeItem(c));var c},children:"-"}),Object(u.jsx)("input",{type:"number",class:"form-control count d-inline",value:e.quantity,readOnly:!0}),Object(u.jsx)("span",{class:"btn btn-primary plus",onClick:function(){return function(e){t(C.addTocart({id:e.id,name:e.name,quantity:e.quantity}))}(e)},children:"+"})]})}),Object(u.jsx)("div",{class:"col-4 col-lg-1 mt-4 mt-lg-0",children:Object(u.jsx)("i",{id:"delete_cart_item",class:"fa fa-trash btn btn-danger"})})]})})})})),Object(u.jsx)("hr",{})]}),Object(u.jsx)("div",{class:"col-12 col-lg-3 my-4",children:Object(u.jsxs)("div",{id:"order_summary",children:[Object(u.jsx)("h4",{children:"Order Summary"}),Object(u.jsx)("hr",{}),Object(u.jsxs)("p",{children:["Subtotal:  ",Object(u.jsxs)("span",{class:"order-summary-values",children:[e.reduce((function(e,t){return e+Number(t.quantity)}),0)," (Units)"]})]}),Object(u.jsxs)("p",{children:["Est. total: ",Object(u.jsxs)("span",{class:"order-summary-values",children:["$ ",e.reduce((function(e,t){return e+t.quantity*t.price}),0)]})]}),Object(u.jsx)("hr",{}),Object(u.jsx)("button",{id:"checkout_btn",class:"btn btn-primary btn-block",onClick:function(){c("/user/login?redirect=shipping")},children:"Check out"})]})})]})]})})})},Z=function(){return Object(u.jsx)("div",{className:"container",children:Object(u.jsx)("div",{className:"row",children:Object(u.jsxs)("div",{className:"col-12 text-center text-danger mt-4",children:[Object(u.jsx)("span",{className:"display-1",children:"404"}),Object(u.jsx)("h1",{className:"display-4",children:"No Page Found"})]})})})},X=c(70),ee=function(){var e=Object.values(X.countries),t=Object(h.b)(),c=Object(j.g)(),s=Object(a.useState)(""),n=Object(d.a)(s,2),r=n[0],i=n[1],l=Object(a.useState)(""),o=Object(d.a)(l,2),b=o[0],m=o[1],O=Object(a.useState)(""),p=Object(d.a)(O,2),x=p[0],f=p[1],g=Object(a.useState)(""),v=Object(d.a)(g,2),N=v[0],y=v[1],w=Object(a.useState)(""),S=Object(d.a)(w,2),k=S[0],C=S[1];return Object(u.jsx)(a.Fragment,{children:Object(u.jsx)("div",{className:"row wrapper",children:Object(u.jsx)("div",{className:"col-10 col-lg-5",children:Object(u.jsxs)("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault(),t(function(e,t,c,s,a){return function(n){var r={address:e,city:t,phoneNumber:c,postalCode:s,Country:a};n(A.AddShipping(r)),localStorage.setItem("ship",JSON.stringify(r))}}(r,b,x,N,k)),c("/confirm")},children:[Object(u.jsx)("h1",{className:"mb-4",children:"Shipping Info"}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{children:"Address"}),Object(u.jsx)("input",{type:"text",id:"address_field",className:"form-control",value:r,onChange:function(e){return i(e.target.value)},required:!0})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{children:"City"}),Object(u.jsx)("input",{type:"text",id:"city_field",className:"form-control",onChange:function(e){return m(e.target.value)},value:b,required:!0})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{children:"Phone No"}),Object(u.jsx)("input",{type:"phone",onChange:function(e){return f(e.target.value)},id:"phone_field",className:"form-control",value:x,required:!0})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{children:"Postal Code"}),Object(u.jsx)("input",{onChange:function(e){return y(e.target.value)},type:"number",id:"postal_code_field",className:"form-control",value:N,required:!0})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{children:"Country"}),Object(u.jsx)("select",{id:"country_field",className:"form-control",value:k,onChange:function(e){return C(e.target.value)},required:!0,children:e.map((function(e){return Object(u.jsx)("option",{value:e.name,children:e.name},e.name)}))})]}),Object(u.jsx)("button",{id:"shipping_btn",type:"submit",className:"btn btn-block py-3",children:"CONTINUE"})]})})})})},te=c(71),ce=c.n(te),se=function(e){var t=e.price,c=Object(j.g)(),s=100*t;return Object(u.jsx)(ce.a,{currency:"ZAR",allowRememberMe:!0,label:"Pay Now",name:"Luthando Store",billingAddress:!0,shippingAddress:!0,image:"".concat("https://vast-bayou-09675.herokuapp.com","/https://svgshare.com/s/YC8"),description:"Your Total is R".concat(t),amount:s,panelLabel:"Pay Now",token:function(e){console.log(e),alert("payment succesful"),c("/")},stripeKey:"pk_test_51J2v2HJs01eB0g5WzvLLoULPk2RrtEK1eAA1evzj4lMkKoEvh34WlqMYsMbjWeqywDQ2lueqyRnczd1sz6Gs3rdt00YyBGgU7W"})},ae=function(){Object(j.g)();var e=Object(h.c)((function(e){return e.auth.user})),t=Object(h.c)((function(e){return e.cart.items})),c=Object(h.c)((function(e){return e.ship.ShippingInfo})),s=c.address,n=c.phoneNumber,r=c.city,i=c.Country,l=c.PostalCode,o=t.reduce((function(e,t){return e+t.quantity*t.price}),0),d=o>500?85:56,b=Number(.25*o),O=b+d+o;return Object(u.jsx)(a.Fragment,{children:Object(u.jsx)("div",{class:"container container-fluid",children:Object(u.jsxs)("div",{class:"row d-flex justify-content-between",children:[Object(u.jsxs)("div",{class:"col-12 col-lg-8 mt-5 order-confirm",children:[Object(u.jsx)("h4",{class:"mb-3",children:"Shipping Info"}),Object(u.jsxs)("p",{children:[Object(u.jsx)("b",{children:"Name:"})," ",e?e.user.name:"Your Name"]}),Object(u.jsxs)("p",{children:[Object(u.jsx)("b",{children:"Phone:"}),n]}),Object(u.jsxs)("p",{class:"mb-4",children:[Object(u.jsx)("b",{children:"Address:"}),s,",",r,",",i,",",l]}),Object(u.jsx)("hr",{}),Object(u.jsx)("h4",{class:"mt-4",children:"Your Cart Items:"}),Object(u.jsx)("hr",{}),Object(u.jsx)("div",{class:"cart-item my-1",children:t.map((function(e){return Object(u.jsxs)("div",{class:"row",children:[Object(u.jsx)("div",{class:"col-4 col-lg-2",children:Object(u.jsx)("img",{src:e.image.map((function(e){return e.url})),alt:"Laptop",height:"45",width:"65"})}),Object(u.jsx)("div",{class:"col-5 col-lg-6",children:Object(u.jsx)(m.b,{to:"/product/".concat(e.id),children:e.name})}),Object(u.jsx)("div",{class:"col-4 col-lg-4 mt-4 mt-lg-0",children:Object(u.jsx)("p",{children:Object(u.jsxs)("b",{children:["$ ",o]})})})]})}))}),Object(u.jsx)("hr",{})]}),Object(u.jsx)("div",{class:"col-12 col-lg-3 my-4",children:Object(u.jsxs)("div",{id:"order_summary",children:[Object(u.jsx)("h4",{children:"Order Summary"}),Object(u.jsx)("hr",{}),Object(u.jsxs)("p",{children:["Subtotal:  ",Object(u.jsxs)("span",{class:"order-summary-values",children:["$",o]})]}),Object(u.jsxs)("p",{children:["Shipping: ",Object(u.jsxs)("span",{class:"order-summary-values",children:["$",d]})]}),Object(u.jsxs)("p",{children:["Tax: ",Object(u.jsxs)("span",{class:"order-summary-values",children:["$",b," "]})]}),Object(u.jsx)("hr",{}),Object(u.jsxs)("p",{children:["Total: ",Object(u.jsxs)("span",{class:"order-summary-values",children:["$",O]})]}),Object(u.jsx)("hr",{}),Object(u.jsx)(se,{price:O,class:"btn btn-primary btn-block"})]})})]})})})},ne=(c(182),function(){Object(O.d)(),Object(h.b)(),Object(h.c)((function(e){return e.auth.user})),Object(h.c)((function(e){return e.cart.items})),Object(h.c)((function(e){return e.ship.Shippinginfo}));return Object(u.jsx)(a.Fragment,{children:Object(u.jsx)("div",{className:"row wrapper",children:Object(u.jsx)("div",{className:"col-10 col-lg-5",children:Object(u.jsxs)("form",{className:"shadow-lg",children:[Object(u.jsx)("h1",{className:"mb-4",children:"Card Info"}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{children:"Card Number"}),Object(u.jsx)("input",{type:"text",id:"card_num_field",className:"form-control",value:""})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{children:"Card Expiry"}),Object(u.jsx)("input",{type:"text",id:"card_exp_field",className:"form-control",value:""})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{children:"Card CVC"}),Object(u.jsx)("input",{type:"text",id:"card_cvc_field",className:"form-control",value:""})]}),Object(u.jsx)("button",{id:"pay_btn",type:"submit",className:"btn btn-block py-3",children:"Pay"})]})})})})}),re=(c(183),function(){return Object(u.jsx)(a.Fragment,{children:Object(u.jsx)("div",{className:"sidebar-wrapper",children:Object(u.jsx)("nav",{id:"sidebar",children:Object(u.jsxs)("ul",{className:"list-unstyled components",children:[Object(u.jsx)("li",{children:Object(u.jsxs)("a",{to:"/dashbord",children:[Object(u.jsx)("i",{className:"fas fa-tachometer-alt"})," Dashboard"]})}),Object(u.jsxs)("li",{children:[Object(u.jsxs)("a",{href:"#productSubmenu","data-toggle":"collapse","aria-expanded":"false",className:"dropdown-toggle",children:[Object(u.jsx)("i",{className:"fab fa-product-hunt"})," Products"]}),Object(u.jsxs)("ul",{className:"collapse list-unstyled",id:"productSubmenu",children:[Object(u.jsx)("li",{children:Object(u.jsxs)(m.b,{to:"/admin/products",children:[Object(u.jsx)("i",{className:"fas fa-clipboard-list"})," All"]})}),Object(u.jsx)("li",{children:Object(u.jsxs)(m.b,{to:"/admin/new-product",children:[Object(u.jsx)("i",{className:"fas fa-plus"})," Create"]})})]})]}),Object(u.jsx)("li",{children:Object(u.jsxs)(m.b,{to:"/admin/orders",children:[Object(u.jsx)("i",{className:"fa fa-shopping-basket"})," Orders"]})}),Object(u.jsx)("li",{children:Object(u.jsxs)(m.b,{to:"/admin/users",children:[Object(u.jsx)("i",{className:"fa fa-users"})," Users"]})}),Object(u.jsx)("li",{children:Object(u.jsxs)(m.b,{to:"/admin/reviews",children:[Object(u.jsx)("i",{className:"fa fa-star"})," Users"]})})]})})})})}),ie=function(){return Object(u.jsx)(a.Fragment,{children:Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"col-12 col-md-2",children:Object(u.jsx)(re,{})}),Object(u.jsxs)("div",{class:"col-12 col-md-10",children:[Object(u.jsx)("h1",{class:"my-4",children:"Dashboard"}),Object(u.jsx)("div",{class:"row pr-4",children:Object(u.jsx)("div",{class:"col-xl-12 col-sm-12 mb-3",children:Object(u.jsx)("div",{class:"card text-white bg-primary o-hidden h-100",children:Object(u.jsx)("div",{class:"card-body",children:Object(u.jsxs)("div",{class:"text-center card-font-size",children:["Total Amount",Object(u.jsx)("br",{})," ",Object(u.jsx)("b",{children:"$4567"})]})})})})}),Object(u.jsxs)("div",{class:"row pr-4",children:[Object(u.jsx)("div",{class:"col-xl-3 col-sm-6 mb-3",children:Object(u.jsxs)("div",{class:"card text-white bg-success o-hidden h-100",children:[Object(u.jsx)("div",{class:"card-body",children:Object(u.jsxs)("div",{class:"text-center card-font-size",children:["Products",Object(u.jsx)("br",{})," ",Object(u.jsx)("b",{children:"56"})]})}),Object(u.jsxs)(m.b,{class:"card-footer text-white clearfix small z-1",to:"/admin/products",children:[Object(u.jsx)("span",{class:"float-left",children:"View Details"}),Object(u.jsx)("span",{class:"float-right",children:Object(u.jsx)("i",{class:"fa fa-angle-right"})})]})]})}),Object(u.jsx)("div",{class:"col-xl-3 col-sm-6 mb-3",children:Object(u.jsxs)("div",{class:"card text-white bg-danger o-hidden h-100",children:[Object(u.jsx)("div",{class:"card-body",children:Object(u.jsxs)("div",{class:"text-center card-font-size",children:["Orders",Object(u.jsx)("br",{})," ",Object(u.jsx)("b",{children:"125"})]})}),Object(u.jsxs)(m.b,{class:"card-footer text-white clearfix small z-1",to:"/admin/orders",children:[Object(u.jsx)("span",{class:"float-left",children:"View Details"}),Object(u.jsx)("span",{class:"float-right",children:Object(u.jsx)("i",{class:"fa fa-angle-right"})})]})]})}),Object(u.jsx)("div",{class:"col-xl-3 col-sm-6 mb-3",children:Object(u.jsxs)("div",{class:"card text-white bg-info o-hidden h-100",children:[Object(u.jsx)("div",{class:"card-body",children:Object(u.jsxs)("div",{class:"text-center card-font-size",children:["Users",Object(u.jsx)("br",{})," ",Object(u.jsx)("b",{children:"45"})]})}),Object(u.jsxs)(m.b,{class:"card-footer text-white clearfix small z-1",to:"/admin/users",children:[Object(u.jsx)("span",{class:"float-left",children:"View Details"}),Object(u.jsx)("span",{class:"float-right",children:Object(u.jsx)("i",{class:"fa fa-angle-right"})})]})]})}),Object(u.jsx)("div",{class:"col-xl-3 col-sm-6 mb-3",children:Object(u.jsx)("div",{class:"card text-white bg-warning o-hidden h-100",children:Object(u.jsx)("div",{class:"card-body",children:Object(u.jsxs)("div",{class:"text-center card-font-size",children:["Out of Stock",Object(u.jsx)("br",{})," ",Object(u.jsx)("b",{children:"4"})]})})})})]})]})]})})},le=function(){var e=Object(O.d)(),t=Object(a.useState)(""),c=Object(d.a)(t,2),s=c[0],n=c[1],r=Object(a.useState)(""),i=Object(d.a)(r,2),b=i[0],m=i[1],p=Object(a.useState)(0),f=Object(d.a)(p,2),g=f[0],v=f[1],N=Object(a.useState)(""),y=Object(d.a)(N,2),w=y[0],S=y[1],k=Object(a.useState)(""),C=Object(d.a)(k,2),_=C[0],P=C[1],F=Object(a.useState)({}),A=Object(d.a)(F,2),R=A[0],I=A[1],z=Object(a.useState)(0),L=Object(d.a)(z,2),T=L[0],D=L[1],q=Object(h.b)(),M=function(){var e=Object(o.a)(l.a.mark((function e(t){var c,s,a,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.target.files[0],(s=new FormData).set("image",c),console.log(Object(W.a)(s)),a={headers:{"Content-type":"application/json"}},e.prev=5,e.next=8,x.a.post("http://127.0.0.1:7000/v1/api/amazona/users/uploader",s,a);case 8:n=e.sent,r=n.data,console.log(r),I(r),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(5),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[5,14]])})));return function(t){return e.apply(this,arguments)}}(),B=Object(j.g)();return Object(u.jsx)(a.Fragment,{children:Object(u.jsx)("div",{className:"container container-fluid",children:Object(u.jsx)("div",{className:"wrapper my-5",children:Object(u.jsxs)("form",{className:"shadow-lg",encType:"multipart/form-data",onSubmit:function(){q(function(e,t,c,s,a,n){return function(){var r=Object(o.a)(l.a.mark((function r(i,o){var d,j,u,b;return l.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return console.log(e,t,c,s,a,n),d={headers:{"Content-Type":"application/json"}},(j=[]).push(n),r.prev=4,r.next=7,x.a.post("http://127.0.0.1:7000/v1/api/amazona/admin/new-product",{name:e,description:t,price:c,seller:s,category:a,image:j},d);case 7:u=r.sent,b=u.data,console.log(b),i(E.newProduct(b)),r.next=17;break;case 13:r.prev=13,r.t0=r.catch(4),console.log(r.t0.response&&r.t0.response.data.message?r.t0.response.data.message:r.t0.message),i(E.newProdFail(r.t0.response&&r.t0.response.data.message?r.t0.response.data.message:r.t0.message));case 17:case"end":return r.stop()}}),r,null,[[4,13]])})));return function(e,t){return r.apply(this,arguments)}}()}(s,w,g,b,_,R)),e.success("Product uploaded successfully"),B("/")},children:[Object(u.jsx)("h1",{className:"mb-4",children:"New Product"}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{for:"name_field",children:"Name"}),Object(u.jsx)("input",{type:"text",id:"name_field",className:"form-control",value:s,onChange:function(e){return n(e.target.value)}})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{for:"price_field",children:"Price"}),Object(u.jsx)("input",{type:"text",id:"price_field",className:"form-control",value:g,onChange:function(e){return v(e.target.value)}})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{for:"description_field",children:"Description"}),Object(u.jsx)("textarea",{className:"form-control",id:"description_field",rows:"8",value:w,onChange:function(e){return S(e.target.value)}})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{for:"category_field",children:"Category"}),Object(u.jsx)("select",{className:"form-control",id:"category_field",onChange:function(e){return P(e.target.value)},value:_,children:["Electronics","Furnisher","Beauty & Health","Audio & Media","Books","Fashion","Food"].map((function(e){return Object(u.jsx)("option",{value:e,children:e},e)}))})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{for:"stock_field",children:"Stock"}),Object(u.jsx)("input",{type:"number",id:"stock_field",className:"form-control",value:T,onChange:function(e){return D(e.target.value)}})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{for:"seller_field",children:"Seller Name"}),Object(u.jsx)("input",{type:"text",id:"seller_field",className:"form-control",value:b,onChange:function(e){return m(e.target.value)}})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{children:"Images"}),Object(u.jsxs)("div",{className:"custom-file",children:[Object(u.jsx)("input",{type:"file",name:"product_images",className:"custom-file-input",id:"customFile",multiple:!0,onChange:M}),Object(u.jsx)("label",{className:"custom-file-label",for:"customFile",children:"Choose Images"})]})]}),Object(u.jsx)("button",{id:"login_button",type:"submit",className:"btn btn-block py-3",children:"CREATE"})]})})})})},oe=function(e){var t=Object(h.c)((function(e){return e.auth})),c=Object(a.useState)(null),s=Object(d.a)(c,2),n=(s[0],s[1]),r=Object(h.b)(),i={headers:{"Content-Type":"application/json",Authorization:t?"Bearer ".concat(t.token):""}};return Object(a.useEffect)((function(){function e(){return(e=Object(o.a)(l.a.mark((function e(){var t,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("http://127.0.0.1:7000/v1/api/amazona/pay/stripe-api",i);case 2:t=e.sent,c=t.data,console.log(c),n(c);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}r(function(){var e=Object(o.a)(l.a.mark((function e(t,c){var s,a,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=JSON.parse(localStorage.getItem("token")),console.log(s),a={headers:{"Content-Type":"application/json",Authorization:s?"Bearer ".concat(s):""}},e.prev=3,e.next=6,x.a.get("http://127.0.0.1:7000/v1/api/amazona/users/profile",a);case 6:n=e.sent,r=n.data,console.log(r),t(N.loadUser(r)),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(3),console.log(e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message),t(N.loadUserFail(e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message));case 16:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t,c){return e.apply(this,arguments)}}()),function(){e.apply(this,arguments)}()}),[r]),Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(w,{}),Object(u.jsxs)(j.d,{children:[Object(u.jsx)(j.b,{exact:!0,path:"/",element:Object(u.jsx)(J,{})}),Object(u.jsx)(j.b,{path:"/search/:keyword",element:Object(u.jsx)(J,{})}),Object(u.jsx)(j.b,{path:"/user/login",element:Object(u.jsx)(V,{})}),Object(u.jsx)(j.b,{path:"/*",element:Object(u.jsx)(Z,{})}),Object(u.jsx)(j.b,{path:"/shipping",element:Object(u.jsx)(ee,{})}),Object(u.jsx)(j.b,{path:"/confirm",element:Object(u.jsx)(ae,{})}),Object(u.jsx)(j.b,{path:"/user/payment",element:Object(u.jsx)(ne,{})}),Object(u.jsx)(j.b,{path:"/user/reg",element:Object(u.jsx)(G,{})}),Object(u.jsx)(j.b,{path:"/admin/dashboard",element:Object(u.jsx)(K,{children:Object(u.jsx)(ie,{})})}),Object(u.jsx)(j.b,{path:"/user/cart",element:Object(u.jsx)(Q,{})}),Object(u.jsx)(j.b,{path:"/user/my-profile",element:Object(u.jsx)(K,{children:Object(u.jsx)(H,{})})}),Object(u.jsx)(j.b,{path:"/admin/new-product",element:Object(u.jsx)(K,{children:Object(u.jsx)(le,{})})}),Object(u.jsx)(j.b,{exact:!0,path:"/product/:id",children:function(e){return e.match},element:Object(u.jsx)($,{props:e})})]}),Object(u.jsx)(S,{})]})},de=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,187)).then((function(t){var c=t.getCLS,s=t.getFID,a=t.getFCP,n=t.getLCP,r=t.getTTFB;c(e),s(e),a(e),n(e),r(e)}))},je=c(72),ue={position:O.b.TOP_CENTER,timeout:2e3,offset:"30px",transition:O.c.FADE};r.a.render(Object(u.jsx)(O.a,Object(s.a)(Object(s.a)({template:je.a},ue),{},{children:Object(u.jsx)(h.a,{store:T,children:Object(u.jsx)(m.a,{children:Object(u.jsx)(oe,{})})})})),document.getElementById("root")),de()},77:function(e,t,c){},79:function(e,t,c){}},[[184,1,2]]]);
//# sourceMappingURL=main.e206c562.chunk.js.map